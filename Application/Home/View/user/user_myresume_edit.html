<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="招聘" http-equiv="keywords">
<meta name="description" content="招聘,培训">
<meta name="format-detection" content="telephone=no"><!-- 禁止IPHONE识别手机号码 -->
<meta name="viewport" content="width=device-width,user-scalable=no, initial-scale=1">
<meta name="renderer" content="webkit" />

<title>js代码（www.jsdaima.com）- IT资源下载平台</title>
<!-- css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/index.css">
<link rel="stylesheet" type="text/css" href="/Public/home/css/swiper.min.css">

<!-- public_css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/public/public_lib.css">

<!-- zy_public_css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/zy_public.css">
<!-- 子页css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/children.css">

<!-- js -->
<script type="text/javascript" src="/Public/home/js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/Public/home/js/swiper.min.js"></script>
<script type="text/javascript" src="/Public/home/js/public.js"></script>
	<script type="text/javascript" src="/Public/home/js/layer/layer.js"></script>
	<script type="text/javascript" src="/Public/home/js/jquery.validate/jquery.validate.min.js"></script>
	<style>
		div.error{
			color: #F2B300;
			text-indent: 1em;
			font-size: 1em;
		}
	</style>
</head>
<body>
<header class="zy_search_top_box scroll_fix">
	<div class="zy_title_top fix">
		<div class="one" href="javascript:" onclick="history.back();"><img src="/Public/home/images/back_jt.png"><span>返回</span></div>
		<h1>编辑简历</h1>
		
	</div>
</header>	

<!-- 占位框 -->
<div class="top_zhanwei_box"></div>	

<!-- 内容框 -->
<div class="zy_module-content zy_vip_conbox">
	<div class="vip_user_info_mima vip_user_createbox">
		<form id="form1" method="post">
			<div class="headpic mb6 bgwh">
				<i><img src="/Public/home/images/common_img/woman.png"/></i>
			</div>
			<div class="write bgwh">
				<div class="form_line">
					<label><span>姓名</span><input type="text" name="" value="{:session('mname')}"></label>
				</div>
				<div class="form_line sexbox bbd">
	                <span>性别</span>
	                <label><input type="radio" name="sex" checked="checked">男</label>
	                <label><input type="radio" name="sex">女</label>
	            </div>
<!--	            <div class="form_line">-->
<!--					<label><span>年龄</span><input type="text"  name="" value=""></label>-->
<!--				</div>-->
				<div class="form_line bbd xzbox">
					<span>学历</span>
					<select name="degree">
						<option value="1">大专</option>
						<option value="2">本科</option>
						<option value="3">硕士</option>
						<option value="4">博士</option>
						<option value="999">其他</option>
					</select>
				</div>
				<div class="form_line bbd xzbox work_style">
					<span>求职意向</span>
					<select  name="expectPosition">
						<option value="产品经理">产品经理</option>
						<option value="ceo">ceo</option>
						<option value="php开发工程师">php开发工程师</option>
						<option value="前端工程师">前端工程师</option>
						<option value="商务主管/经理">商务主管/经理</option>
					</select>
				</div>
				<div class="form_line bbd xzbox">
					<span>工作经验</span>
					<select name="companyTime">
						<option value="1">1-3年</option>
						<option value="2">3-5年</option>
						<option value="3">5-8年</option>
						<option value="4">8-10年</option>
						<option value="5">10年以上</option>
					</select>
				</div>
				<div class="form_line bbd xzbox">
					<span>期望月薪</span>
					<select name="expectSalary">
						<option value="1">1000以下</option>
						<option value="2">1000~2000元</option>
						<option value="3">2000~3000元</option>
						<option value="4">3000~5000元</option>
						<option value="5">5000~8000元</option>
						<option value="6">8000~12000元</option>
						<option value="7">12000~15000元</option>
						<option value="8">15000~20000元</option>
						<option value="9">20000以上</option>
					</select>
				</div>
				<div class="form_line">
					<label><span>工作地点</span><input type="text" name="expectCity" value="{$resume['expectCity']}"></label>
				</div>
				<div class="form_line tel"><label><span>联系电话</span><input type="text" name="tel" value="17698753369"></label></div>
				<div class="form_line">
					<label><span>工作经历</span><textarea name="workYear" >{$resume['workYear']}</textarea></label>
				</div>
				<div class="form_line">
					<label><span>教育经历</span><textarea name="educationYear" >{$resume['educationYear']}</textarea></label>
				</div>
				<div class="form_line">
					<label><span>专业技能</span><textarea name="professionalJn">{$resume['professionalJn']}</textarea></label>
				</div>
				<div class="form_line">
					<label><span>自我描述</span><textarea name="selfDescription">{$resume['selfDescription']}</textarea></label>
				</div>
				<input type="hidden" name="id" value="{$resume['id']}">
				<button class="zy_butn bord_3">保存修改</button> 
			</div>

		</form>
	</div>
</div>
<script>

	var a =$('#form1').validate({
		rules:{
			expectCity:{
				required:true
			},
			tel:{
				required:true,
				tel:true
			},
			workYear:{
				required:true
			},
			educationYear:{
				required:true
			},
			professionalJn:{
				required:true
			},
			selfDescription:{
				required:true
			}

		},
		messages:{
			expectCity:{
				required:'期望工作地点不能为空'
			},
			tel:{
				required:'联系电话不能为空',
				tel:'手机格式不正确'
			},
			workYear:{
				required:'工作经历不能为空'
			},
			educationYear:{
				required:'教育经历不能为空'
			},
			professionalJn:{
				required:'专业技能不能为空'
			},
			selfDescription:{
				required:'自我描述不能为空'
			}

		},
		errorElement: "div",
		success: function(div) {
			div.addClass("ok").html('验证格式正确');
		},
		validClass: "ok"
	});

	//自定义手机号码规则
	jQuery.validator.addMethod("tel", function(value, element) {
		var mobileReg = /^1[34578][0-9]{9}$/;
		return this.optional(element) || (mobileReg.test(value));
	},"请您正确填写您的手机号码");


	$('#form1').submit(function(){
		if(a.form()){
		$.post('{:U("Home/User/edit")}',$(this).serialize(),function(data){
			if(data.status==='ok'){
				layer.open({
					content:'修改成功',
					skin:'msg',
					time:2,
					end:function(){
						location=data.url;

					}
				})
			}else{
				layer.open({
					content: '修改失败',
					skin: 'msg',
					time: 2,
				})
			}
		},'json');

		}
		return false
	})
</script>
</body>
</html>