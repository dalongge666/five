<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="招聘" http-equiv="keywords">
<meta name="description" content="招聘,培训">
<meta name="format-detection" content="telephone=no"><!-- 禁止IPHONE识别手机号码 -->
<meta name="viewport" content="width=device-width,user-scalable=no, initial-scale=1">
<meta name="renderer" content="webkit" />

<title>js代码（www.jsdaima.com）- IT资源下载平台</title>
<!-- css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/index.css">
<link rel="stylesheet" type="text/css" href="/Public/home/css/swiper.min.css">

<!-- public_css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/public/public_lib.css">

<!-- zy_public_css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/zy_public.css">
<!-- 子页css -->
<link rel="stylesheet" type="text/css" href="/Public/home/css/children.css">

<!-- js -->
<script type="text/javascript" src="/Public/home/js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/Public/home/js/swiper.min.js"></script>
<script type="text/javascript" src="/Public/home/js/public.js"></script>
<script type="text/javascript" src="/Public/home/js/jquery.form.js"></script>
<script type="text/javascript" src="/Public/home/js/jquery.validate.min.js"></script>
<script type="text/javascript" src="/Public/home/js/preview/preview.js"></script>
<script type="text/javascript" src="/Public/home/js/layer/layer.js"></script>

	<style type=text/css>
		input.error { border: 1px solid #EA5200;background: #ffdbb3;}

		div.error {
			padding-left: 13px;
			padding-bottom: 2px;
			font-weight: bold;
			color: #EA5200;
			vertical-align: middle
		}

		div.ok {
			color: #99ea87;
		}
	</style>


</head>
<body class="bgwh">
<header class="zy_search_top_box scroll_fix">
	<div class="zy_title_top fix">
		<div class="one" href="javascript:" onclick="history.back();"><img src="/Public/home/images/back_jt.png"><span>返回</span></div>
		<h1>账户信息</h1>
		
	</div>
</header>
<!-- 占位框 -->
<div class="top_zhanwei_box"></div>

<!-- 内容框 -->
<div class="zy_module-content zy_vip_conbox">	
	<div class="vip_user_info_mima vip_user_info_person">
		<form method="post" enctype="multipart/form-data">
			<div class="headup form_line">
				<span>公司图像</span>
				<img src="__IMAGE__/{$com.logo}" style="width:50px;height:50px;"/>
			</div>

			<div class="form_line"><label><span>企业名称</span><input type="text" name="companyName" value="{$com.companyName}"></label></div>
            <div class="form_line"><label><span>企业网址</span><input type="text" name="website" value="{$com.website}"></label></div>
            <div class="form_line"><label><span>企业地址</span><input type="text" name="city" value="{$com.city}"></label></div>
            <div class="form_line tel"><label><span>联系电话</span><input type="text" name="mobile" value="{$com.mobile}"></label></div>
            <div class="form_line"><label><span>电子邮件</span><input type="text" name="email" value="{$com.email}"></label></div>


            <button class="zy_butn bord_3">确认修改</button>   
		</form>
		
	</div>
</div>
</body>
<script>
	//前台验证
	var validate = $('form').validate({
		rules:{
			companyName:{
				required:true
			},
			website:{
				required:true,
				url:true
			},
			city:{
				required:true
			},
			mobile:{
				required:true,
				mobile:true
			},
			email:{
				required:true,
				email:true
			}
		},
		messages:{
			companyName:{
				required:'公司名称不能为空',
			},
			website:{
				required:'网址不能为空',
				url:'请输入正确的网址'
			},
			city:{
				required:'地址不能为空'
			},
			mobile:{
				required:'手机号不能为空',
				mobile:'请填写正确的手机号'
			},
			email:{
				required:'邮箱不能为空',
				email:'请填写正确的邮箱'
			}
		},
		errorElement: "div",
		success: function(div) {
			div.addClass("ok").html('验证成功');
		},
		validClass: "ok"
	});
	//手机号格式
	jQuery.validator.addMethod("mobile", function(value, element) {
		var mobileReg = /^1[34578][0-9]{9}$/;
		return this.optional(element) || (mobileReg.test(value));
	}, "请正确填写您的手机号码");

	//修改信息
	$('form').submit(function(){
		//前端验证
		if(validate.form()){
			//提交
			$(this).ajaxSubmit(function(data){
				if(data.status === 1){
					layer.open({
						content:data.info,
						time:1,
						end:function(){
							location.reload();
						}
					})
				}else{
					layer.open({
						content:data.info,
						time:1
					})
				}
			})
		}
		return false;
	})

</script>
</html>